.# see https://www.json.org/json-en.html

.# define a list of [json::str obj::any]pairs
[
    .# primitives
    [ "null" ::__json_null ]
    [ "\"foo\"" "foo" ]
    [ "-1.2E-3" :-1.2e-3 ]
    .# unfortunately, it's currently not possible to specify custom JSONParams, so false/true are converted to numbers
    .# [ "false" ::__json_false ]
    .# [ "true" ::__json_true ]
    
    .# array
    [
        """[
            null,
            0,
            "str"
        ]"""
        [
            ::__json_null
            0
            "str"
        ]
    ]
    
    .# object
    [
        """{
            "emptyObj": {},
            "valuesArray": [
                {
                    "string": "foo"
                },
                {
                    "number0": 0,
                    "number0N": -0,
                    "numberInt": 12,
                    "numberIntN": -12,
                    "numberFr": 0.12,
                    "numberFrN": -0.12,
                    "numberExp": 23.45E3,
                    "numberExpN": 23.45e-3,
                    "numberNExp": -23.45e3,
                    "numberNExpN": -23.45E-3
                },
                [1, 2, 3],
                true,
                false,
                null
            ]
        }"""
        
        :{
            :{} :"emptyObj";
            [
                :{
                    "foo" :"string";
                }
                :{
                    0 :"number0";
                    -0 :"number0N";
                    12 :"numberInt";
                    -12 :"numberIntN";
                    0.12 :"numberFr";
                    -0.12 :"numberFrN";
                    :23.45e3 :"numberExp";
                    :23.45e-3 :"numberExpN";
                    :-23.45e3 :"numberNExp";
                    :-23.45e-3 :"numberNExpN";
                }
                [1 2 3]
                1
                0
                ::__json_null
            ] :"valuesArray";
        }
    ]
] {pair : json_str aya_obj json_obj,
    pair~ :aya_obj; :json_str;
    json_str :(json.loads) :json_obj;
    
    json_obj aya_obj test.test
    aya_obj :(json.dumps) :(json.loads) aya_obj test.test
}O;
