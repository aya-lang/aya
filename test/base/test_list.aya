[

.# Querying
.###############

{ 4 [1 2 3].in 0 }
{ 2 [1 2 3].in 1 }

{ [1 2 3 4].max 4 }
{ [1 4 3 4].max 4 }
{ [1 1 1 1].max 1 }

{ [1 2 3 4].min 1 }
{ [1 4 3 4].min 1 }
{ [1 1 1 1].min 1 }

{ [1 2 3 4].argmax 3 }
{ [1 4 3 4].argmax 1 }
{ [1 1 1 1].argmax 0 }

{ [2 1 3 4].argmin 1 }
{ [1 4 3 4].argmin 0 }
{ [1 1 1 1].argmin 0 }

{ [1 2 3 4 5] [0 1 0 0 1].mask [2 5] }
{ [1 2 3 4 5] [0 0 0 0 0].mask [] }
{ [1 2 3 4 5] [1 1 1 1 1].mask [1 2 3 4 5] }
{ [1 2 3 4 5] [1 1 1 1 1].mask [1 2 3 4 5] }
{ [] [].mask [] }

{ [1 1 1].alleq 1 }
{ [1 0 1].alleq 0 }

{[1 1 1] .allt 1 }
{[0 0 0] .allt 0 }
{[1 0 1] .allt 0 }
{[1 1 1] .allf 0 }
{[0 0 0] .allf 1 }
{[1 0 1] .allf 0 }


.# Manipulation
.###############

{ 3 [1 2].append [1 2 3] }
{ 0 [].append [0] }

{ [1].pop .A [[] 1] }
{ [0 1].pop .A [[0] 1] }

{ [1 2 3 4].roll      [4 1 2 3] }
{ [1 2 3 4].roll.roll [3 4 1 2] }

{ 1  [1 2 3 4] .rotate [4 1 2 3] }
{ -1 [1 2 3 4] .rotate [2 3 4 1] }
{ 2  [1 2 3 4] .rotate [3 4 1 2] }
{ 6  [1 2 3 4] .rotate [3 4 1 2] }
{ 2  [] .rotate [] }

{ 0 1  [1 2 3].swap [2 1 3] }
{ 0 -1 [1 2 3].swap [3 2 1] }

{ [2 2].r [[1 2][3 4]] }
{ [2 3].r [[1 2 3][4 5 6]] }

{ [4].ones [1 1 1 1] }
{ [2 3].ones [[1 1 1][1 1 1]] }

{ [4].zeros [0 0 0 0] }
{ [2 3].zeros [[0 0 0][0 0 0]] }

{ "" 5 [1 2 3].lpad ["" "" 1 2 3] }
{ 2 3 [].lpad [2 2 2] }

{ "" 5 [1 2 3].rpad [1 2 3 "" ""] }
{ 2 3 [].rpad [2 2 2] }

{ 0 [1 2 3] .surround [0 1 2 3 0] }
{ [8 9] [1 2 3] .surround [8 9 1 2 3 8 9] }

{ [10 11 12] .enumerate [[0 10] [1 11] [2 12]] }
{ [10] .enumerate [[0 10]] }
{ [] .enumerate [] }

{ [1 9 6 3 9 10 12 1].rank [ 7 3 5 6 3 2 1 7 ] }
{ [1 2 3].rank [3 2 1] }
{ [].rank [] }

{ [].irange [] }
{ [1 2 3].irange [0 1 2]}


{[[1 2][4][1 2 3]].makesquare [[1 2 0][4 0 0][1 2 3]] }

{ [:{ 1:a } :{ 2:b }].dict_flatten :{ 1:a 2:b } }
{ [:{ 1:a 3:b } :{ 2:b }].dict_flatten :{ 1:a 2:b } }



{
[["A" "B" "CCC"]["D" "EE" "F"]] .matstr
"""A B  CCC
D EE F  """
}

{
[["A" pi "CCC"]["hello world" "EE" 2]] .matstr
"""A           3.14159265 CCC
hello world EE         2  """
}

] :# { test.test }
