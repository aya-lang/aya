<?xml version="1.0" encoding="UTF-8"?>

<project name="RuntimeZip" basedir="." default="all">
    <dirname property="build-script.dir" file="${ant.file.RuntimeZip}"/>
    <property name="root.dir" location="${build-script.dir}/.."/>

    <!-- verify that all parameters were passed -->
    <fail unless="runtime.zip.file"/>

    <!-- re-define the parameters, so that they can be used with autocompletion -->
    <property name="runtime.zip.file" value="ALREADY_DEFINED"/>

    <taskdef resource="net/sf/antcontrib/antlib.xml">
        <classpath>
            <pathelement location="${build-script.dir}/libs/ant-contrib-1.0b3.jar"/>
        </classpath>
    </taskdef>

    <target name="all">
        <zip destfile="${runtime.zip.file}">
            <file file="${root.dir}/ayarc.aya"/>
            <zipfileset prefix="base" dir="${root.dir}/base" includes="**/*"/>
            <zipfileset prefix="std" dir="${root.dir}/std" includes="**/*"/>
        </zip>
    </target>
</project>
